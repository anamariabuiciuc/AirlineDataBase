SET DATEFORMAT DMY;
CREATE TABLE Zbor
( Id_zbor INT CONSTRAINT pk_zbor PRIMARY KEY,
  Id_aeronava BIGINT FOREIGN KEY REFERENCES Aeronava(Id_aeronava)
  ON DELETE SET NULL,
  Id_ruta INT FOREIGN KEY REFERENCES Ruta(Id_ruta)
  ON DELETE SET NULL,
  Data_zbor DATE NOT NULL,
  Ora_decolare TIME NOT NULL,
  Ora_aterizare TIME NOT NULL,
  CONSTRAINT ora_incorecta CHECK (Ora_decolare < Ora_aterizare)
)

CREATE SEQUENCE Id_zbor_seq  MAXVALUE 999999 INCREMENT BY 1 START WITH 1001  NO CACHE  NO CYCLE;

INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200021182, 1001, '1.01.2021', '09:00' , '10:05');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200021182, 1001, '10.01.2021', '09:00' , '10:05');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200021182, 1001, '20.01.2021', '09:00' , '10:05');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200021182, 1001, '10.01.2021', '09:00' , '10:05');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200021182, 5001, '7.01.2021', '13:00' , '14:00');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200021182, 5001, '14.01.2021', '13:00' , '14:00');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200021182, 5001, '30.01.2021', '17:00' , '18:03');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200021191, 1010, '8.01.2021', '16:30' , '19:00');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200021191, 1010, '15.01.2021', '16:30' , '19:00');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200021191, 1010, '30.01.2021', '19:00' , '21:30');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200023000, 5010, '20.01.2021', '03:30' , '6:10');
INSERT INTO Zbor VALUES (NEXT VALUE FOR Id_zbor_seq, 123200023000, 5010, '2.02.2021', '10:00' , '12:40');



SELECT *
	FROM Zbor;

DROP TABLE Zbor;




